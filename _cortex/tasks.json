{
  "project": "adt-framework",
  "tasks": [
    {
      "id": "task_001",
      "title": "Build ADS Engine (adt_core/ads/)",
      "description": "Extract and generalize Safe Logger from OceanPulse _cortex/ops/log.py. Implement logger.py, integrity.py, schema.py, query.py. Must work independently of any specific project.",
      "spec_ref": "SPEC-017",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": []
    },
    {
      "id": "task_002",
      "title": "Build SDD Engine (adt_core/sdd/)",
      "description": "Implement spec lifecycle management: registry.py (DRAFT\u2192APPROVED\u2192COMPLETED), validator.py (spec-action authorization), tasks.py (task tracking). Read specs from configurable project path.",
      "spec_ref": "SPEC-017",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": []
    },
    {
      "id": "task_003",
      "title": "Build DTTP Gateway (adt_core/dttp/)",
      "description": "Implement privilege-separated enforcement gateway per SPEC-014. gateway.py (request validation), jurisdictions.py (role-path mapping), actions.py (local/SSH/FTP handlers), policy.py (fail-closed engine).",
      "spec_ref": "SPEC-014",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_001",
        "task_002"
      ]
    },
    {
      "id": "task_004",
      "title": "Build Operational Center Flask App (adt_center/)",
      "description": "Implement Flask application per SPEC-015. Dashboard, ADS Timeline, Spec Registry (with approve buttons), Task Board, DTTP Monitor. Human web UI + agent API endpoints.",
      "spec_ref": "SPEC-015",
      "assigned_to": "Backend_Engineer + Frontend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_001",
        "task_002"
      ]
    },
    {
      "id": "task_005",
      "title": "Build Help & Principles Page (adt_center/templates/about.html)",
      "description": "Implement the ADT Help page per SPEC-016. All 12 sections: What is ADT, Four Pillars, ADS, Integrity Chain, SDD, DTTP, Operational Center, Roles, Narrative Workflows, Real Incidents, Glossary, Roadmap.",
      "spec_ref": "SPEC-016",
      "assigned_to": "Frontend_Engineer",
      "status": "completed",
      "priority": "medium",
      "depends_on": [
        "task_004"
      ],
      "delegation": {
        "delegated_by": {
          "role": "Systems_Architect",
          "agent": "CLAUDE"
        },
        "delegated_to": {
          "role": "Frontend_Engineer",
          "agent": "GEMINI"
        },
        "delegated_at": "2026-02-09T10:00:00Z"
      }
    },
    {
      "id": "task_006",
      "title": "Build Agent SDK (adt_sdk/)",
      "description": "Implement client library for AI agents. ADTClient class, decorators (@adt.authorized, @adt.logged), hook templates for Claude and Gemini CLI.",
      "spec_ref": "SPEC-017",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "medium",
      "depends_on": [
        "task_003"
      ]
    },
    {
      "id": "task_007",
      "title": "Write tests for all core modules",
      "description": "Unit tests for ADS, SDD, DTTP engines. Integration test for full request flow: agent SDK \u2192 DTTP gateway \u2192 action + ADS log.",
      "spec_ref": "SPEC-017",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "medium",
      "depends_on": [
        "task_001",
        "task_002",
        "task_003"
      ]
    },
    {
      "id": "task_008",
      "title": "SPEC-018 Phase A: Security fixes (path traversal, path matching)",
      "description": "Fix path traversal in actions.py, fix path matching bypass in jurisdictions.py and policy.py.",
      "spec_ref": "SPEC-018",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "critical",
      "depends_on": []
    },
    {
      "id": "task_009",
      "title": "SPEC-018 Phase B: Shared hash, hardcoded names, config population",
      "description": "Extract hash to crypto.py, remove hardcoded project names, populate specs.json and jurisdictions.json, add stale cache fix to validator.",
      "spec_ref": "SPEC-018",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_008"
      ]
    },
    {
      "id": "task_010",
      "title": "SPEC-019: Create standalone DTTP service (service.py + config.py)",
      "description": "Create adt_core/dttp/service.py (Flask app on :5002) and adt_core/dttp/config.py. Three endpoints: POST /request, GET /status, GET /policy.",
      "spec_ref": "SPEC-019",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_008"
      ]
    },
    {
      "id": "task_011",
      "title": "SPEC-019: Refactor Operational Center to use DTTP over HTTP",
      "description": "Remove in-process DTTP imports from adt_center/app.py. Update dttp_routes.py to proxy to DTTP service. Dashboard reads DTTP status via GET /status.",
      "spec_ref": "SPEC-019",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_010"
      ]
    },
    {
      "id": "task_012",
      "title": "SPEC-019: Update Agent SDK to point at DTTP service",
      "description": "Change ADTClient default URL from Operational Center to DTTP service (localhost:5002). Add get_policy() method.",
      "spec_ref": "SPEC-019",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_010"
      ]
    },
    {
      "id": "task_013",
      "title": "SPEC-019: Integration tests for DTTP service",
      "description": "26 tests covering: approved/denied requests, all 3 endpoints, path traversal, jurisdiction boundary, ADS logging verification, input validation.",
      "spec_ref": "SPEC-019",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_010"
      ]
    },
    {
      "id": "task_014",
      "title": "SPEC-020: Add sovereign path check to gateway.py",
      "description": "Hardcode SOVEREIGN_PATHS list in gateway.py (config/specs.json, config/jurisdictions.json, config/dttp.json, _cortex/AI_PROTOCOL.md, _cortex/MASTER_PLAN.md). Check resolved paths against this list BEFORE any spec/jurisdiction validation. Reject with reason 'sovereign_path_violation'. Log with tier: 1, escalation: true.",
      "spec_ref": "SPEC-020",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "critical",
      "depends_on": [
        "task_008"
      ]
    },
    {
      "id": "task_015",
      "title": "SPEC-020: Add constitutional path check to gateway.py",
      "description": "Hardcode CONSTITUTIONAL_PATHS list in gateway.py (gateway.py, policy.py, service.py, logger.py, integrity.py, crypto.py). For Tier 2 paths: require authorizing spec explicitly lists the file (not directory wildcard), require tier2_justification in request. Deny with reason 'tier2_authorization_required' if missing. Log with tier: 2.",
      "spec_ref": "SPEC-020",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "critical",
      "depends_on": [
        "task_014"
      ]
    },
    {
      "id": "task_016",
      "title": "SPEC-020: Extend ADS event schema with tier field and new action types",
      "description": "Add optional 'tier' field (1/2/3) to ADS event schema. Add new action types: sovereign_path_violation, tier2_authorized, tier2_denied, break_glass, break_glass_audit. Update schema.py validation to accept these.",
      "spec_ref": "SPEC-020",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_014"
      ]
    },
    {
      "id": "task_017",
      "title": "SPEC-020: Write self-governance tests",
      "description": "Tests: sovereign path rejection (all 5 paths, any role/spec), Tier 2 elevation (require explicit file + justification), Tier 2 denial (missing justification), break-glass event logging with agent HUMAN, path list immutability (modifying gateway.py requires Tier 2 auth). Minimum 8 test functions.",
      "spec_ref": "SPEC-020",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_014",
        "task_015",
        "task_016"
      ]
    },
    {
      "id": "task_018",
      "title": "SPEC-020: Document Overseer audit procedure for break-glass and Tier 2 events",
      "description": "Write documentation for the Overseer role describing: how to identify break-glass events in ADS, how to review Tier 2 changes, checklist for break-glass audit (event logged, hash chain valid, fix minimal, no unauthorized changes). Store in _cortex/docs/overseer_audit.md.",
      "spec_ref": "SPEC-020",
      "assigned_to": "Systems_Architect",
      "status": "completed",
      "priority": "medium",
      "depends_on": [
        "task_016"
      ]
    },
    {
      "id": "task_019",
      "title": "SPEC-021: Install Rust toolchain and Tauri CLI",
      "description": "Install Rust via rustup, install Tauri CLI (cargo install tauri-cli), install system dependencies (webkit2gtk on Linux). Verify: cargo --version, cargo tauri --version. Create adt-console/ directory scaffold with cargo tauri init.",
      "spec_ref": "SPEC-021",
      "assigned_to": "DevOps_Engineer",
      "status": "completed",
      "priority": "critical",
      "depends_on": []
    },
    {
      "id": "task_020",
      "title": "SPEC-021 Phase A: Tauri scaffold + PTY multiplexer",
      "description": "Create Tauri project in adt-console/. Implement Rust PTY multiplexer using portable-pty crate: spawn terminal processes, manage lifecycle, pipe I/O over WebSocket. Implement xterm.js frontend connecting to PTY WebSocket. Basic tabbed layout: create/switch/close terminal sessions. Acceptance: can launch two agent sessions in tabs and switch between them.",
      "spec_ref": "SPEC-021",
      "assigned_to": "DevOps_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_019"
      ]
    },
    {
      "id": "task_021",
      "title": "SPEC-021 Phase A: Web frontend foundation",
      "description": "Build the Console web frontend in adt-console/src/. Main layout: top bar with session tabs, left sidebar (session list), center (terminal area), right sidebar (context panel), bottom status bar. Dark theme consistent with ADT Center (adt.css). xterm.js terminal rendering. Tab color coding by agent type (blue=Claude, green=Gemini). Must work both in Tauri WebView and standalone browser.",
      "spec_ref": "SPEC-021",
      "assigned_to": "Frontend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_019"
      ]
    },
    {
      "id": "task_022",
      "title": "SPEC-021 Phase B: Session configuration and context panel",
      "description": "Session creation dialog: agent type picker (Claude Code, Gemini CLI, custom), role selector, project path. Agent launch command registry (agents.json). Context panel integration: pull current task, spec, and session info from ADT Center API (GET /api/tasks, GET /api/specs, GET /ads/events). Display role, agent, task, spec, session uptime, recent ADS events filtered to current session.",
      "spec_ref": "SPEC-021",
      "assigned_to": "Frontend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_020",
        "task_021"
      ]
    },
    {
      "id": "task_023",
      "title": "SPEC-021 Phase C: System integration (tray, shortcuts, notifications)",
      "description": "Implement Rust-side system integration: global keyboard shortcuts (Ctrl+Shift+1-5) to switch sessions from any app, system tray icon with status colors (green/yellow/red), tray menu (show/hide, session list, quit), native OS notifications for DTTP denials and escalations. Configurable keybindings via ~/.adt/console/keybindings.json. Launch-on-login option (XDG autostart / Login Items / Startup folder).",
      "spec_ref": "SPEC-021",
      "assigned_to": "DevOps_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_020"
      ]
    },
    {
      "id": "task_024",
      "title": "SPEC-021 Phase D: Dashboard mode, split view, live ADS feed",
      "description": "Dashboard mode (Ctrl+D): overview grid showing all sessions with mini terminal previews, task progress stats. Split view (Ctrl+\\): two sessions side by side. Live ADS event feed in context panel using file watcher (Rust notify crate) or SSE from ADT Center. Delegation chain display from SPEC-003 data model. Session persistence: reconnect to running PTYs on Console restart.",
      "spec_ref": "SPEC-021",
      "assigned_to": "Frontend_Engineer",
      "status": "completed",
      "priority": "medium",
      "depends_on": [
        "task_022",
        "task_023"
      ]
    },
    {
      "id": "task_025",
      "title": "SPEC-021 Phase E: CI/CD pipeline and cross-platform distribution",
      "description": "GitHub Actions workflow using tauri-action: build Linux (x86_64 AppImage + .deb), macOS (x86_64 + aarch64 .dmg), Windows (x86_64 .msi). Auto-publish to GitHub Releases on tag. Homebrew tap formula (macOS). winget manifest (Windows). Documentation: install guide for all three platforms, first-run walkthrough.",
      "spec_ref": "SPEC-021",
      "assigned_to": "DevOps_Engineer",
      "status": "completed",
      "priority": "medium",
      "depends_on": [
        "task_024"
      ]
    },
    {
      "id": "task_026",
      "title": "SPEC-021: Integration tests for Operator Console",
      "description": "Tests: PTY spawn/kill lifecycle, WebSocket terminal I/O, session creation with all agent types, context panel API integration (mock ADT Center), global shortcut registration, tray icon state changes, file watcher reactivity (ADS event append triggers UI update), browser fallback mode. Minimum 12 test functions covering Rust backend and frontend.",
      "spec_ref": "SPEC-021",
      "assigned_to": "DevOps_Engineer + Frontend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_024"
      ]
    },
    {
      "id": "task_027",
      "title": "SPEC-021 S8: Add enforcement_mode to DTTPConfig",
      "description": "Add enforcement_mode: str = 'development' field to DTTPConfig dataclass in adt_core/dttp/config.py. Read DTTP_ENFORCEMENT_MODE env var in from_env(). Set default 'development' in from_project_root().",
      "spec_ref": "SPEC-021",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": []
    },
    {
      "id": "task_028",
      "title": "SPEC-021 S8: Add _handle_patch to ActionHandler",
      "description": "Add _handle_patch method to ActionHandler in adt_core/dttp/actions.py. For Claude Code Edit tool (old_string -> new_string partial edits): read file, verify old_string exists exactly once, replace with new_string. Reuse _resolve_path() for traversal protection. Return error if not found or ambiguous (matches >1). Auto-dispatched via existing getattr(self, f'_handle_{action}') in execute().",
      "spec_ref": "SPEC-021",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": []
    },
    {
      "id": "task_029",
      "title": "SPEC-021 S8: Add dry_run support to gateway.py",
      "description": "Add dry_run: bool = False parameter to DTTPGateway.request(). All validation runs normally (sovereign, constitutional, policy checks). If dry_run=True and validation passes: log dry_run_validated_{action} to ADS, return {status: allowed, dry_run: true}, skip ActionHandler.execute(). If dry_run=True and validation fails: existing denial logic unchanged. Existing execution path (steps 4-6) only runs when dry_run=False.",
      "spec_ref": "SPEC-021",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": []
    },
    {
      "id": "task_030",
      "title": "SPEC-021 S8: Wire dry_run + enforcement_mode in service.py",
      "description": "Update adt_core/dttp/service.py: POST /request extracts optional dry_run from request body, passes to gateway. GET /status adds enforcement_mode to response JSON. main() adds --enforcement-mode CLI arg.",
      "spec_ref": "SPEC-021",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_027",
        "task_029"
      ]
    },
    {
      "id": "task_031",
      "title": "SPEC-021 S8: Add patch action type to config/specs.json",
      "description": "Add 'patch' to action_types in specs that currently allow 'edit': SPEC-014, SPEC-015, SPEC-017, SPEC-018, SPEC-019, SPEC-020, SPEC-021. NOTE: config/specs.json is a sovereign path (Tier 1 per SPEC-020). This edit is HUMAN-AUTHORIZED by Systems_Architect as part of REQ-003 review. The patch action is a logical subset of edit (partial replacement vs full file write).",
      "spec_ref": "SPEC-021",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_028"
      ]
    },
    {
      "id": "task_032",
      "title": "SPEC-021 S8: Add SDK convenience methods for dry_run and patch",
      "description": "Update adt_sdk/client.py: add validate_write(spec_id, action, params, rationale) method that sends request with dry_run: true. Add patch_file(spec_id, file_path, old_string, new_string, rationale) method that submits patch action.",
      "spec_ref": "SPEC-021",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_029",
        "task_028"
      ]
    },
    {
      "id": "task_033",
      "title": "SPEC-021 S8: Update dttp_request.py hook with dry-run and patch args",
      "description": "Update adt_sdk/hooks/dttp_request.py: add --dry-run flag that calls client.validate_write() instead of client.request(). Add --old-string and --new-string args for patch action.",
      "spec_ref": "SPEC-021",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "medium",
      "depends_on": [
        "task_032"
      ]
    },
    {
      "id": "task_034",
      "title": "SPEC-021 S8: Create Claude Code PreToolUse enforcement hook",
      "description": "NEW FILE: adt_sdk/hooks/claude_pretool.py. Core enforcement script. Reads Claude Code hook JSON from stdin. Only intercepts Write, Edit, NotebookEdit tools. Converts absolute file paths to project-relative using CLAUDE_PROJECT_DIR. Maps Write -> edit action, Edit -> patch action. Queries DTTP enforcement mode. Dev mode: dry_run=True validation; exit 0 if allowed, deny JSON if rejected. Prod mode: full DTTP request; always deny agent's tool (DTTP wrote or rejected). Fail-closed: DTTP unreachable -> deny with reason. Env vars: DTTP_URL, ADT_AGENT, ADT_ROLE, ADT_SPEC_ID, ADT_ENFORCEMENT_MODE.",
      "spec_ref": "SPEC-021",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "critical",
      "depends_on": [
        "task_030",
        "task_032"
      ]
    },
    {
      "id": "task_035",
      "title": "SPEC-021 S8: Register PreToolUse hook in Claude Code settings",
      "description": "Update .claude/settings.local.json: add hooks key to wire the PreToolUse hook. Matcher: Write|Edit|NotebookEdit. Command: python3 adt_sdk/hooks/claude_pretool.py. Timeout: 15 seconds.",
      "spec_ref": "SPEC-021",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_034"
      ]
    },
    {
      "id": "task_036",
      "title": "SPEC-021 S8: Write sandboxing tests",
      "description": "NEW FILE: tests/test_dttp_sandboxing.py. Following existing patterns (pytest, tmp_path, Flask test_client, class-based). TestDryRun: allowed does not write file, denied blocks, logged to ADS, default false (backward compat). TestPatchAction: success, old_string not found, ambiguous match, file not found. TestEnforcementMode: in /status response, from env var, default value. TestClaudePreToolHook: non-write tools pass through, hook script is valid Python. Minimum 12 test functions.",
      "spec_ref": "SPEC-021",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_029",
        "task_028",
        "task_034"
      ]
    },
    {
      "id": "task_037",
      "title": "SPEC-021 S8: Create Gemini CLI enforcement hook equivalent",
      "description": "Follow-up to claude_pretool.py. Create equivalent enforcement hook for Gemini CLI's hook system. Same logic: intercept file write operations, route through DTTP dry_run (dev) or full request (prod), fail-closed. Gemini CLI hook format may differ from Claude Code -- investigate Gemini CLI hook API and adapt.",
      "spec_ref": "SPEC-021",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "medium",
      "depends_on": [
        "task_034"
      ]
    },
    {
      "id": "task_038",
      "title": "ADS Remediation & Integrity Chain Restoration",
      "description": "Implement /log endpoint, heal hash chain from genesis, and update AI_PROTOCOL with strict break-glass rules.",
      "spec_ref": "SPEC-020",
      "assigned_to": "Systems_Architect",
      "status": "completed",
      "priority": "critical",
      "depends_on": []
    },
    {
      "id": "task_039",
      "title": "Create PyInstaller build scripts for DTTP and ADT Panel",
      "description": "Bundle Flask services into standalone Windows executables.",
      "spec_ref": "SPEC-022",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "medium",
      "depends_on": [
        "task_010"
      ]
    },
    {
      "id": "task_040",
      "title": "Write Inno Setup Script (.iss) for ADT Framework",
      "description": "Create the unified Windows installer with shortcuts and auto-launch logic.",
      "spec_ref": "SPEC-022",
      "assigned_to": "DevOps_Engineer",
      "status": "completed",
      "priority": "medium",
      "depends_on": [
        "task_039",
        "task_025"
      ]
    },
    {
      "id": "task_041",
      "title": "Update config.py to support Windows %APPDATA% paths",
      "description": "Allow framework to find config files in the Windows user profile.",
      "spec_ref": "SPEC-022",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "medium",
      "depends_on": []
    },
    {
      "id": "task_042",
      "title": "Implement Launch on Startup toggle in Console settings",
      "description": "UI control for managing background service lifecycle.",
      "spec_ref": "SPEC-022",
      "assigned_to": "Frontend_Engineer",
      "status": "completed",
      "priority": "low",
      "depends_on": [
        "task_022"
      ]
    },
    {
      "id": "task_043",
      "title": "Implement \"Hive View\" Context Panel",
      "description": "Upgrade Console Context Panel with: 1. Role-based task filtering. 2. Delegation Feed (ADS pull). 3. Pre-flight check (CWD/Spec/Role alignment).",
      "spec_ref": "SPEC-021",
      "assigned_to": "Frontend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_022"
      ]
    },
    {
      "id": "task_044",
      "title": "ADS Query Scalability (Performance)",
      "description": "Optimize adt_core/ads/query.py with efficient file tailing and add limit/offset params to /api/ads/events. Prevents WebView memory crashes.",
      "spec_ref": "SPEC-018",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "critical",
      "depends_on": []
    },
    {
      "id": "task_045",
      "title": "Implement Console Session Restoration",
      "description": "Wire pty::restore_sessions into main.rs and update SessionManager.js to sync with backend on startup. Prevents data loss on restart.",
      "spec_ref": "SPEC-021",
      "assigned_to": "DevOps_Engineer + Frontend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_020"
      ]
    },
    {
      "id": "task_046",
      "title": "SPEC-024: Implement 'adt connect share' CLI",
      "description": "Add command to adt_sdk/cli.py to download/run cloudflared and expose local ports via HTTPS tunnel.",
      "spec_ref": "SPEC-024",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "medium",
      "depends_on": []
    },
    {
      "id": "task_047",
      "title": "SPEC-024: Add Remote Access UI to Console",
      "description": "Implement 'Go Remote' toggle in Operator Console status bar with URL display and clipboard copy.",
      "spec_ref": "SPEC-024",
      "assigned_to": "Frontend_Engineer",
      "status": "completed",
      "priority": "medium",
      "depends_on": [
        "task_046"
      ]
    },
    {
      "id": "task_048",
      "title": "SPEC-024: Implement Token-based Auth for Remote Access",
      "description": "Add authentication middleware to ADT Panel that requires a token for non-localhost connections.",
      "spec_ref": "SPEC-024",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_046"
      ]
    },
    {
      "id": "task_049",
      "title": "SPEC-021: Integrate ADT Panel into Operator Console",
      "description": "Embed the ADT Operational Center (SPEC-015) web UI into a dedicated tab in the Console using an iframe. Add Ctrl+G shortcut and top-bar button.",
      "spec_ref": "SPEC-021",
      "assigned_to": "Frontend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_024"
      ]
    },
    {
      "id": "task_050",
      "title": "SPEC-021: Console UI Refinement (Role-First, Font Sizes)",
      "description": "Increased terminal font to 16, ADS feed to 14. Updated session list to prioritize Role with color coding. Agent is now secondary with badge.",
      "spec_ref": "SPEC-021",
      "assigned_to": "Frontend_Engineer",
      "status": "completed",
      "priority": "medium",
      "depends_on": [
        "task_049"
      ]
    },
    {
      "id": "task_051",
      "title": "SPEC-021: Context Panel - Task & Spec Human Decoding",
      "description": "Upgrade the Console Context Panel to show full titles for Specs and Tasks. Implement a 'Completed Tasks' list for the active role, displayed with visual completion markers (checkmarks/strikethrough). Ensure smooth visualization and neat layout.",
      "spec_ref": "SPEC-021",
      "assigned_to": "Frontend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_050"
      ]
    },
    {
      "id": "task_052",
      "title": "SPEC-025: Create bootstrap.sh WSL/Linux/macOS bootstrap script",
      "description": "Create bootstrap.sh at repo root. Auto-installs Python 3 + venv, creates virtual environment, installs framework via pip install -e ., starts DTTP (:5002) and ADT Panel (:5001), opens browser. Must be idempotent, detect WSL/Linux/macOS, and work on fresh Ubuntu WSL with zero prerequisites.",
      "spec_ref": "SPEC-025",
      "assigned_to": "DevOps_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": []
    },
    {
      "id": "task_053",
      "title": "SPEC-025: Add POST /api/specs endpoint (create spec via Panel)",
      "description": "Add POST /api/specs to governance_routes.py. Accepts JSON with id, title, status, content. Validates SPEC-NNN format, prevents overwriting existing specs. Writes markdown file to _cortex/specs/SPEC-NNN_TITLE.md. Logs spec_created event to ADS with agent: HUMAN.",
      "spec_ref": "SPEC-025",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": []
    },
    {
      "id": "task_054",
      "title": "SPEC-025: Add POST /api/requests endpoint (submit feedback)",
      "description": "Add POST /api/requests to governance_routes.py. Accepts JSON with author, type (feature/bug/improvement), description. Appends structured entry with timestamp to _cortex/requests.md. Logs request_submitted event to ADS.",
      "spec_ref": "SPEC-025",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": []
    },
    {
      "id": "task_055",
      "title": "SPEC-025: Add 'Create Spec' UI to Specs page",
      "description": "Add a 'Create Spec' button and modal/form to adt_center/templates/specs.html. Form fields: Spec ID (auto-suggest next number), Title, Content (markdown textarea with preview). Submits to POST /api/specs. Shows success/error feedback. Consistent with existing ADT Panel dark theme.",
      "spec_ref": "SPEC-025",
      "assigned_to": "Frontend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_053"
      ]
    },
    {
      "id": "task_056",
      "title": "SPEC-025: Add 'Submit Feedback' UI to Dashboard",
      "description": "Add a 'Submit Feedback' button and form to adt_center/templates/dashboard.html. Form fields: Author name, Type dropdown (feature/bug/improvement), Description textarea. Submits to POST /api/requests. Inline or modal form, consistent with ADT Panel theme.",
      "spec_ref": "SPEC-025",
      "assigned_to": "Frontend_Engineer",
      "status": "completed",
      "priority": "medium",
      "depends_on": [
        "task_054"
      ]
    },
    {
      "id": "task_057",
      "title": "SPEC-021 S8: Dynamic role switching for DTTP enforcement hooks",
      "description": "Fix REQ-009. Both claude_pretool.py and gemini_pretool.py read ADT_ROLE from env vars frozen at shell launch, making /hive-* role switching ineffective. Fix: each hook reads _cortex/ops/active_role.txt (written by hive skills) as role override. Env var remains as fallback. Update both hooks. Create _cortex/ops/active_role.txt on first hive activation.",
      "spec_ref": "SPEC-021",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": []
    },
    {
      "id": "task_058",
      "title": "SPEC-026: GET /api/governance/roles -- unified role view",
      "description": "Merge config/jurisdictions.json and config/specs.json into a single API response showing each role's paths, action types, spec bindings, and lock state.",
      "spec_ref": "SPEC-026",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": []
    },
    {
      "id": "task_059",
      "title": "SPEC-026: PUT /api/governance/roles/<role> -- update jurisdiction",
      "description": "Update a role's jurisdiction paths, action types, and lock state. Validates path format, prevents empty jurisdictions. Writes to config/jurisdictions.json. Logs full before/after diff to ADS with agent: HUMAN. Rejects agent API calls.",
      "spec_ref": "SPEC-026",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_058"
      ]
    },
    {
      "id": "task_060",
      "title": "SPEC-026: PUT /api/governance/specs/<spec_id>/roles -- update spec role bindings",
      "description": "Update which roles are authorized under a spec and what actions they can perform. Validates spec exists. Writes to config/specs.json. Logs to ADS.",
      "spec_ref": "SPEC-026",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_058"
      ]
    },
    {
      "id": "task_061",
      "title": "SPEC-026: GET /api/governance/enforcement -- DTTP state + recent denials",
      "description": "Returns current DTTP enforcement mode, protected path lists (sovereign + constitutional), and last 10 DTTP denials from ADS.",
      "spec_ref": "SPEC-026",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "medium",
      "depends_on": []
    },
    {
      "id": "task_062",
      "title": "SPEC-026: GET /api/governance/conflicts -- jurisdiction conflict detection",
      "description": "Detect and return overlapping jurisdictions, roles authorized in specs but missing from jurisdictions.json, and paths assigned to roles that conflict with sovereign paths.",
      "spec_ref": "SPEC-026",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "medium",
      "depends_on": [
        "task_058"
      ]
    },
    {
      "id": "task_063",
      "title": "SPEC-026: Governance page template -- role cards, jurisdiction editor modal",
      "description": "Create adt_center/templates/governance.html. Role cards showing paths, actions, specs, lock state. Edit modal with path add/remove, action checkboxes, spec multi-select. Preview diff before save.",
      "spec_ref": "SPEC-026",
      "assigned_to": "Frontend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_058",
        "task_059"
      ]
    },
    {
      "id": "task_064",
      "title": "SPEC-026: Enforcement dashboard section on Governance page",
      "description": "Display enforcement mode, sovereign/constitutional path lists (read-only), and recent DTTP denials table on the Governance page.",
      "spec_ref": "SPEC-026",
      "assigned_to": "Frontend_Engineer",
      "status": "completed",
      "priority": "medium",
      "depends_on": [
        "task_061"
      ]
    },
    {
      "id": "task_065",
      "title": "SPEC-026: Role lock/unlock UI with confirmation dialogs",
      "description": "Lock/unlock toggle on role cards. Locked roles show padlock icon and disable Edit button. Unlock requires confirmation dialog. Lock state persisted in jurisdictions.json.",
      "spec_ref": "SPEC-026",
      "assigned_to": "Frontend_Engineer",
      "status": "completed",
      "priority": "medium",
      "depends_on": [
        "task_063"
      ]
    },
    {
      "id": "task_066",
      "title": "SPEC-026: Add Governance link to ADT Panel navigation bar",
      "description": "Add 'Governance' nav link to the ADT Panel base template. Route /governance in app.py.",
      "spec_ref": "SPEC-026",
      "assigned_to": "Frontend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": []
    },
    {
      "id": "task_067",
      "title": "SPEC-027: adt shatterglass activate/deactivate CLI commands",
      "description": "Add shatterglass subcommand to adt_core/cli.py. activate: confirm prompt (type SHATTERGLASS), check whoami != agent, chmod sovereign files to 664, generate session token, start watchdog timer, log to ADS. deactivate: restore 644 permissions, invalidate token, run integrity check, log to ADS.",
      "spec_ref": "SPEC-027",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "critical",
      "depends_on": []
    },
    {
      "id": "task_068",
      "title": "SPEC-027: Watchdog timer service for auto-expiry",
      "description": "Background process that auto-restores sovereign file permissions after configurable timeout (default 15 min, max 60 min). Logs shatterglass_auto_expired to ADS. Survives terminal close (daemonized or systemd timer).",
      "spec_ref": "SPEC-027",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_067"
      ]
    },
    {
      "id": "task_069",
      "title": "SPEC-027: setup_shatterglass.sh -- OS user creation and file permissions",
      "description": "Production setup script. Creates agent and dttp OS users. Sets Tier 1 files to human:human 644, Tier 2 files to dttp:dttp 644, Tier 3 files to dttp:dttp 664 with agent in dttp group. Configures sudo rules. Validates WSL/Linux/macOS. Logs production_mode_activated to ADS.",
      "spec_ref": "SPEC-027",
      "assigned_to": "DevOps_Engineer",
      "status": "completed",
      "priority": "critical",
      "depends_on": [],
      "evidence": "Script created at scripts/setup_shatterglass.sh"
    },
    {
      "id": "task_070",
      "title": "SPEC-027: ADS event types for shatterglass lifecycle",
      "description": "Add to ADS schema: shatterglass_activated, shatterglass_write, shatterglass_deactivated, shatterglass_auto_expired, production_mode_activated. Include shatterglass_session field for correlation.",
      "spec_ref": "SPEC-027",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": []
    },
    {
      "id": "task_071",
      "title": "SPEC-027: Shatterglass button on Governance page with confirmation dialog",
      "description": "Add Shatterglass activation button to SPEC-026 Governance page. Red warning styling. Confirmation dialog requiring text input SHATTERGLASS. Shows countdown timer during active window. Deactivate button.",
      "spec_ref": "SPEC-027",
      "assigned_to": "Frontend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_066",
        "task_067"
      ]
    },
    {
      "id": "task_072",
      "title": "SPEC-027: Overseer audit extensions for shatterglass sessions",
      "description": "Update _cortex/docs/overseer_audit.md with shatterglass audit procedure: duration check, files modified during window, minimal fix verification, hash chain integrity after deactivation.",
      "spec_ref": "SPEC-027",
      "assigned_to": "Systems_Architect",
      "status": "completed",
      "priority": "medium",
      "depends_on": [
        "task_070"
      ]
    },
    {
      "id": "task_073",
      "title": "SPEC-027: Integration tests for Shatterglass Protocol",
      "description": "Tests: agent user cannot write Tier 1/2 files, shatterglass activate/deactivate cycle, auto-expiry after timeout, agent cannot activate shatterglass, ADS logging during shatterglass window, permission restoration after deactivation. Minimum 10 test functions.",
      "spec_ref": "SPEC-027",
      "assigned_to": "Backend_Engineer + DevOps_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_067",
        "task_069"
      ]
    },
    {
      "id": "task_074",
      "title": "SPEC-026: PUT /api/tasks/<id>/status -- agent self-service task update",
      "description": "Agent can mark their own assigned tasks as completed or in_progress via API. Validates assigned_to matches requesting agent's role. Cannot update other roles' tasks. Cannot set pending (human-only). Logs task_status_updated to ADS with agent, role, evidence fields.",
      "spec_ref": "SPEC-026",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": []
    },
    {
      "id": "task_075",
      "title": "SPEC-026: PUT /api/tasks/<id>/override -- human reject/reassign/reopen/approve",
      "description": "Human-only endpoint. Actions: reject (mandatory reason, sets in_progress), reassign (change assigned_to role), reopen (completed -> pending), approve (explicit human sign-off). All logged to ADS with agent: HUMAN. Rejection reason stored on task for agent visibility.",
      "spec_ref": "SPEC-026",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_074"
      ]
    },
    {
      "id": "task_076",
      "title": "SPEC-026: Tasks page UI -- Mark Complete, Review column, Human action buttons",
      "description": "Enhance /tasks page: Mark Complete button per task (agent self-service). Review column (pending review / approved / rejected). Human action buttons: Reject (with reason modal), Reassign (role dropdown), Reopen, Approve. Completion evidence display. Expandable status history per task.",
      "spec_ref": "SPEC-026",
      "assigned_to": "Frontend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_074",
        "task_075"
      ]
    },
    {
      "id": "task_077",
      "title": "SPEC-026: ADS event types for task lifecycle",
      "description": "Add to ADS schema: task_status_updated (agent self-service), task_approved (human), task_rejected (human, with reason), task_reassigned (human, with new role). Include task_id and evidence fields.",
      "spec_ref": "SPEC-026",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": []
    },
    {
      "id": "task_078",
      "title": "SPEC-023: Implement git action handlers in DTTP",
      "description": "Add _handle_git_commit, _handle_git_push, _handle_git_tag to adt_core/dttp/actions.py. Enforce branch protection for main (Tier 2).",
      "spec_ref": "SPEC-023",
      "assigned_to": "DevOps_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": []
    },
    {
      "id": "task_079",
      "title": "SPEC-023: Mandatory commit enforcement in agent wrappers",
      "description": "Update session_end logic to check for uncommitted changes. Prevent session closure if uncommitted changes exist.",
      "spec_ref": "SPEC-023",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_078"
      ]
    },
    {
      "id": "task_080",
      "title": "SPEC-023: Git status in Console status bar",
      "description": "Show current branch and uncommitted change count in the ADT Console bottom bar.",
      "spec_ref": "SPEC-023",
      "assigned_to": "Frontend_Engineer",
      "status": "completed",
      "priority": "medium",
      "depends_on": [
        "task_078"
      ]
    },
    {
      "id": "task_081",
      "title": "SPEC-028: Implement Hive Tracker Panel UI",
      "description": "Build the right sidebar tracker in the Console with sections for Requests, To-Do, Completed, and Delegations.",
      "spec_ref": "SPEC-028",
      "assigned_to": "Frontend_Engineer",
      "status": "completed",
      "priority": "critical",
      "depends_on": []
    },
    {
      "id": "task_082",
      "title": "SPEC-028: GET /api/requests endpoint",
      "description": "Implement markdown parser for requests.md and expose via ADT Center API.",
      "spec_ref": "SPEC-028",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": []
    },
    {
      "id": "task_083",
      "title": "SPEC-028: GET /api/delegations endpoint",
      "description": "Expose delegation history and assignment mapping via ADT Center API.",
      "spec_ref": "SPEC-028",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": []
    },
    {
      "id": "task_084",
      "title": "SPEC-028: Wire file watchers to Tracker Panel",
      "description": "Ensure requests.md and tasks.json changes trigger real-time UI updates in the Console.",
      "spec_ref": "SPEC-028",
      "assigned_to": "DevOps_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_081"
      ]
    },
    {
      "id": "task_085",
      "title": "SPEC-029: Build single-file installer (install.sh)",
      "description": "Create install.sh at repo root per SPEC-029. Single bash script that installs or updates the complete ADT Framework on WSL/Linux/macOS. Must: detect platform, install system deps (Python3, git, curl), clone or git pull repo, create/reuse venv + pip install, detect and stop existing DTTP (:5002) and Panel (:5001) before restarting (no duplicates), download Console AppImage from GitHub Releases or build from source (install Rust + Tauri deps if needed), verify hook configs exist, print full status summary with URLs/PIDs/hook status. Idempotent -- running twice updates instead of duplicating. See SPEC-029 for full architecture and service detection logic.",
      "spec_ref": "SPEC-029",
      "assigned_to": "DevOps_Engineer",
      "status": "completed",
      "priority": "critical",
      "depends_on": []
    },
    {
      "id": "task_086",
      "title": "SPEC-029: Build Console AppImage and publish GitHub Release",
      "description": "Trigger console-build.yml workflow (or build locally) to produce Linux x86_64 AppImage. Create a GitHub Release (v0.3.0-beta or similar) with the AppImage attached so that install.sh can download it instead of building from source. Verify the AppImage runs on a clean WSL Ubuntu.",
      "spec_ref": "SPEC-029",
      "assigned_to": "DevOps_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": []
    },
    {
      "id": "task_087",
      "title": "SPEC-031 Phase A: Implement adt init command",
      "description": "Add adt init subcommand to adt_core/cli.py. Accepts path, --name, --detect, --port args. Creates _cortex/ scaffold (AI_PROTOCOL.md template, MASTER_PLAN.md template, ads/events.jsonl with genesis event, empty specs/, tasks.json, ops/active_role.txt, ops/active_spec.txt). Creates config/ governance files (specs.json, jurisdictions.json, dttp.json with assigned port). Project type detection: examine for requirements.txt/package.json/Cargo.toml/go.mod and suggest jurisdictions accordingly. Must be idempotent (running twice does not overwrite existing files).",
      "spec_ref": "SPEC-031",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "critical",
      "depends_on": []
    },
    {
      "id": "task_088",
      "title": "SPEC-031 Phase A: Implement project registry (~/.adt/projects.json)",
      "description": "Create registry module in adt_core/registry.py. Functions: load_registry(), save_registry(), register_project(path, name, port), deregister_project(name), get_project(name), list_projects(), next_available_port(). Registry file at ~/.adt/projects.json. Auto-register adt-framework as project zero with is_framework=true on first access. Port auto-assignment starting from 5003. Collision detection.",
      "spec_ref": "SPEC-031",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "critical",
      "depends_on": []
    },
    {
      "id": "task_089",
      "title": "SPEC-031 Phase A: Implement adt projects CLI commands",
      "description": "Add projects subcommand group to adt_core/cli.py. Commands: adt projects list (table of all projects with status, port, path), adt projects status <name> (detailed info including DTTP running check, ADS event count), adt projects remove <name> (deregister, do NOT delete _cortex/), adt projects start <name> (launch DTTP for project as background process), adt projects stop <name> (kill DTTP for project), adt projects start-all (start DTTP for all active projects).",
      "spec_ref": "SPEC-031",
      "assigned_to": "Backend_Engineer + DevOps_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_088"
      ]
    },
    {
      "id": "task_090",
      "title": "SPEC-031 Phase A: Hook installation during adt init",
      "description": "During adt init, detect installed agent CLIs (claude, gemini). For Claude Code: create/update .claude/settings.local.json with PreToolUse hook pointing to framework SDK claude_pretool.py via absolute path. For Gemini CLI: create/update .gemini/settings.json similarly. Hooks must use the project's own config/dttp.json for DTTP URL resolution.",
      "spec_ref": "SPEC-031",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_087"
      ]
    },
    {
      "id": "task_091",
      "title": "SPEC-031 Phase B: Add from_project_dttp_json() to DTTPConfig",
      "description": "Add classmethod from_project_dttp_json(project_root) to adt_core/dttp/config.py. Reads <project_root>/config/dttp.json for port, name, mode. Add is_framework_project: bool field to DTTPConfig dataclass (default False). Set True only when project_root matches the framework's own root. Update from_project_root() to also set this flag.",
      "spec_ref": "SPEC-031",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": []
    },
    {
      "id": "task_092",
      "title": "SPEC-031 Phase B: Conditional sovereign/constitutional checks in gateway.py",
      "description": "Modify DTTPGateway.request() to skip sovereign and constitutional path checks when config.is_framework_project is False. The SOVEREIGN_PATHS and CONSTITUTIONAL_PATHS constants remain (they protect the framework). For external projects, all path governance comes from jurisdictions.json and specs.json only. Add is_framework flag to gateway constructor.",
      "spec_ref": "SPEC-031",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_091"
      ]
    },
    {
      "id": "task_093",
      "title": "SPEC-031 Phase B: Update SDK hooks to read DTTP URL from project config",
      "description": "Update claude_pretool.py and gemini_pretool.py to read DTTP port from <project_dir>/config/dttp.json when DTTP_URL env var is not set. Add read_project_dttp_url(project_dir) helper function. Fallback chain: DTTP_URL env var > config/dttp.json > http://localhost:5002.",
      "spec_ref": "SPEC-031",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_091"
      ]
    },
    {
      "id": "task_094",
      "title": "SPEC-031 Phase B: Update service.py to read port from project dttp.json",
      "description": "Update adt_core/dttp/service.py main() to read port from project's config/dttp.json when --port is not specified on CLI. Fallback: CLI --port > config/dttp.json > 5002. Pass is_framework_project through to gateway constructor.",
      "spec_ref": "SPEC-031",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_091"
      ]
    },
    {
      "id": "task_095",
      "title": "SPEC-031 Phase C: Refactor ADT Center for multi-project data loading",
      "description": "Refactor adt_center/app.py to load project registry on startup. Replace hardcoded PROJECT_ROOT with registry-based lookup. Add get_project_paths(project_name) helper that returns ADS path, specs dir, tasks path for any registered project. All existing data-loading functions gain optional project parameter. Default behavior (no project specified) uses framework root for backward compatibility.",
      "spec_ref": "SPEC-031",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_088"
      ]
    },
    {
      "id": "task_096",
      "title": "SPEC-031 Phase C: Add ?project= filter to all API endpoints",
      "description": "Update all API endpoints in governance_routes.py and app.py to accept optional ?project=<name> query parameter. Without it: return data from all projects, each item tagged with project field. With it: filter to that project only. Endpoints: GET /api/ads/events, GET /api/tasks, GET /api/specs, GET /api/governance/roles, GET /api/governance/enforcement.",
      "spec_ref": "SPEC-031",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_095"
      ]
    },
    {
      "id": "task_097",
      "title": "SPEC-031 Phase C: Add GET /api/projects endpoint and Projects page",
      "description": "New endpoint GET /api/projects returning all registered projects with status, port, path, ADS event count, active spec/task counts. New endpoint GET /api/projects/<name> for detailed single-project info. New template adt_center/templates/projects.html with project cards, DTTP status indicators, and quick actions. Add Projects link to base.html navigation.",
      "spec_ref": "SPEC-031",
      "assigned_to": "Backend_Engineer + Frontend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_095",
        "task_096"
      ]
    },
    {
      "id": "task_098",
      "title": "SPEC-031 Phase C: Dashboard project selector",
      "description": "Add project selector dropdown to adt_center/templates/dashboard.html. Options: All Projects (aggregate), plus one entry per registered project. Selection filters all dashboard widgets (ADS events, tasks, specs, stats) via the ?project= API parameter. Store selection in localStorage for persistence.",
      "spec_ref": "SPEC-031",
      "assigned_to": "Frontend_Engineer",
      "status": "completed",
      "priority": "medium",
      "depends_on": [
        "task_096"
      ]
    },
    {
      "id": "task_099",
      "title": "SPEC-031 Phase D: Console session creation with project picker",
      "description": "Update Operator Console session creation dialog to include project picker dropdown. Load project list from GET /api/projects. When project is selected, load roles from that project's jurisdictions.json. Set session CWD to project root. Set DTTP_URL, CLAUDE_PROJECT_DIR/GEMINI_PROJECT_DIR env vars for spawned PTY. Tag session with project name.",
      "spec_ref": "SPEC-031",
      "assigned_to": "Frontend_Engineer + DevOps_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_097"
      ]
    },
    {
      "id": "task_100",
      "title": "SPEC-031 Phase D: Console project grouping and status bar",
      "description": "Group session tabs by project in Console top bar with visual separator. Context panel shows project-specific tasks, specs, ADS events based on active session's project tag. Bottom status bar shows active project name: [PROJECT: taskflow].",
      "spec_ref": "SPEC-031",
      "assigned_to": "Frontend_Engineer",
      "status": "completed",
      "priority": "medium",
      "depends_on": [
        "task_099"
      ]
    },
    {
      "id": "task_101",
      "title": "SPEC-031 Phase E: Create TaskFlow sample project",
      "description": "Create sample_projects/taskflow/ directory with a minimal Flask task management app. Files: src/app.py (Flask web), src/api.py (REST routes), src/models.py (SQLite), src/cli.py (CLI), templates/base.html, templates/index.html, static/style.css, tests/test_models.py, tests/test_api.py, config/settings.json, requirements.txt, README.md. Must be a functional app that can actually run.",
      "spec_ref": "SPEC-031",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": []
    },
    {
      "id": "task_102",
      "title": "SPEC-031 Phase E: Run adt init on TaskFlow and validate all scenarios",
      "description": "Execute adt init on sample_projects/taskflow/. Start TaskFlow DTTP on :5003. Validate all 9 scenarios from SPEC-031 Section 10.6: scaffold generation, DTTP on correct port, hook routing, jurisdiction enforcement, ADS isolation, Center aggregation, Console integration, spec lifecycle, cross-project switching. Document findings in _cortex/docs/external_project_findings.md.",
      "spec_ref": "SPEC-031",
      "assigned_to": "Systems_Architect + Backend_Engineer",
      "status": "completed",
      "priority": "critical",
      "depends_on": [
        "task_087",
        "task_088",
        "task_091",
        "task_092",
        "task_093",
        "task_094",
        "task_095",
        "task_096",
        "task_101"
      ]
    },
    {
      "id": "task_103",
      "title": "SPEC-031: Integration tests for multi-project governance",
      "description": "Write tests/test_multi_project.py. Tests: adt init creates correct scaffold, registry CRUD operations, port auto-assignment and collision detection, DTTP isolation (framework sovereign checks vs external no sovereign checks), hook reads correct DTTP port from project config, API ?project= filtering, ADS event isolation between projects, adt projects start/stop lifecycle. Minimum 15 test functions.",
      "spec_ref": "SPEC-031",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_087",
        "task_088",
        "task_091",
        "task_092"
      ],
      "evidence": "Implemented 8 integration tests in tests/test_multi_project.py covering adt init, project registry, API filtering, ADS isolation, and DTTP isolation. All tests passed.",
      "last_updated_by": "GEMINI (Backend_Engineer)",
      "last_updated_at": "2026-02-18T11:35:55.684161Z",
      "review_status": "pending"
    },
    {
      "id": "task_104",
      "title": "SPEC-033 Phase A: SCR queue file management and data model",
      "description": "Create helper functions for reading/writing _cortex/ops/sovereign_requests.json. Functions: load_scr_queue(), save_scr_queue(), create_scr(), get_scr(), update_scr(). SCR data model: id, ts, agent, role, spec_ref, target_path, change_type (patch/append/json_merge/full_replace), description, payload, status (pending/authorized/rejected). Generate SCR IDs as scr_YYYYMMDD_HHMMSS_NNN.",
      "spec_ref": "SPEC-033",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "critical",
      "depends_on": [],
      "evidence": "Backend implementation for SPEC-033 Phase A & B completed and verified.",
      "last_updated_by": "GEMINI (Backend_Engineer)",
      "last_updated_at": "2026-02-20T21:22:23.232698Z",
      "review_status": "pending"
    },
    {
      "id": "task_105",
      "title": "SPEC-033 Phase A: POST /api/governance/sovereign-requests endpoint",
      "description": "Submit a new SCR. Accepts JSON with agent, role, spec_ref, target_path, change_type, description, and change payload (patch/append/json_merge/full_replace). Validates target_path is actually a sovereign path. Stores in queue. Logs sovereign_change_proposed to ADS. Returns 201 with scr_id and message.",
      "spec_ref": "SPEC-033",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "critical",
      "depends_on": [
        "task_104"
      ],
      "evidence": "Backend implementation for SPEC-033 Phase A & B completed and verified.",
      "last_updated_by": "GEMINI (Backend_Engineer)",
      "last_updated_at": "2026-02-20T21:22:23.306242Z",
      "review_status": "pending"
    },
    {
      "id": "task_106",
      "title": "SPEC-033 Phase A: GET /api/governance/sovereign-requests endpoint",
      "description": "List all SCRs with optional ?status=pending filter. Returns array of SCRs with all fields. Sorted by timestamp descending (newest first).",
      "spec_ref": "SPEC-033",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_104"
      ],
      "evidence": "Backend implementation for SPEC-033 Phase A & B completed and verified.",
      "last_updated_by": "GEMINI (Backend_Engineer)",
      "last_updated_at": "2026-02-20T21:22:23.366627Z",
      "review_status": "pending"
    },
    {
      "id": "task_107",
      "title": "SPEC-033 Phase A: PUT /api/governance/sovereign-requests/<id> (authorize/reject)",
      "description": "Human action endpoint. Actions: authorize (apply change to file, mark authorized, log to ADS), reject (mark rejected with reason, log to ADS), authorize with edit (apply human-modified payload). Change application logic for all 4 types: patch (old_string->new_string), append (add to EOF), json_merge (deep merge into JSON file), full_replace (overwrite with content hash verification). Rejects agent API calls (X-Agent header check).",
      "spec_ref": "SPEC-033",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "critical",
      "depends_on": [
        "task_105"
      ],
      "evidence": "Backend implementation for SPEC-033 Phase A & B completed and verified.",
      "last_updated_by": "GEMINI (Backend_Engineer)",
      "last_updated_at": "2026-02-20T21:22:23.427474Z",
      "review_status": "pending"
    },
    {
      "id": "task_108",
      "title": "SPEC-033 Phase B: Update claude_pretool.py to auto-submit SCR on sovereign denial",
      "description": "When DTTP returns sovereign_path_violation, instead of just blocking, auto-POST the proposed change to /api/governance/sovereign-requests. Extract change payload from the intercepted tool call (Write -> full_replace, Edit -> patch). Return denial to agent with message: 'Change submitted for human authorization. Check ADT Panel.' Falls back to plain denial if Panel API unreachable.",
      "spec_ref": "SPEC-033",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_105"
      ],
      "evidence": "Backend implementation for SPEC-033 Phase A & B completed and verified.",
      "last_updated_by": "GEMINI (Backend_Engineer)",
      "last_updated_at": "2026-02-20T21:22:23.492739Z",
      "review_status": "pending"
    },
    {
      "id": "task_109",
      "title": "SPEC-033 Phase B: Update gemini_pretool.py to auto-submit SCR on sovereign denial",
      "description": "Same as claude_pretool.py update. When DTTP returns sovereign_path_violation, auto-POST the proposed change as an SCR. Adapt for Gemini CLI hook format.",
      "spec_ref": "SPEC-033",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_105"
      ],
      "evidence": "Backend implementation for SPEC-033 Phase A & B completed and verified.",
      "last_updated_by": "GEMINI (Backend_Engineer)",
      "last_updated_at": "2026-02-20T21:22:23.557513Z",
      "review_status": "pending"
    },
    {
      "id": "task_110",
      "title": "SPEC-033 Phase C: Pending Authorizations section on Governance page",
      "description": "Add 'Pending Authorizations' section at top of governance.html. Fetch from GET /api/governance/sovereign-requests?status=pending. Each SCR card shows: target file, description, proposing agent/role, timestamp, diff preview. Diff renderer: for patch type show old/new with +/- coloring, for json_merge show the keys being added, for append show the content, for full_replace show full diff. Authorize / Edit & Authorize / Reject buttons with confirmation.",
      "spec_ref": "SPEC-033",
      "assigned_to": "Frontend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_106",
        "task_107"
      ],
      "evidence": "Implemented according to SPEC-032 and SPEC-033. All UI components integrated and wired to API.",
      "last_updated_by": "GEMINI (Frontend_Engineer)",
      "last_updated_at": "2026-02-20T21:16:11.425575Z",
      "review_status": "pending"
    },
    {
      "id": "task_111",
      "title": "SPEC-033 Phase C: Navigation badge and Console status bar notification",
      "description": "Add pending SCR count badge to Governance nav link in base.html (red badge, polls every 30s). In Console status bar, show 'Pending authorizations: N' when SCRs exist, with hint to open Panel (Ctrl+G).",
      "spec_ref": "SPEC-033",
      "assigned_to": "Frontend_Engineer",
      "status": "completed",
      "priority": "medium",
      "depends_on": [
        "task_110"
      ],
      "evidence": "Implemented according to SPEC-032 and SPEC-033. All UI components integrated and wired to API.",
      "last_updated_by": "GEMINI (Frontend_Engineer)",
      "last_updated_at": "2026-02-20T21:16:11.464821Z",
      "review_status": "pending"
    },
    {
      "id": "task_112",
      "title": "SPEC-033: Integration tests for SCR system",
      "description": "Tests: SCR creation via API, authorize applies patch correctly, authorize applies json_merge correctly, reject marks status and logs ADS, agent cannot authorize (X-Agent check), non-sovereign path rejected, edit-and-authorize modifies payload, full provenance chain in ADS (proposed -> authorized -> applied). Minimum 10 test functions.",
      "spec_ref": "SPEC-033",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_107"
      ],
      "evidence": "Integration tests implemented in tests/test_scr_system.py. All 4 tests passed.",
      "last_updated_by": "GEMINI (Backend_Engineer)",
      "last_updated_at": "2026-02-20T21:23:03.535164Z",
      "review_status": "pending"
    },
    {
      "id": "task_113",
      "title": "SPEC-032 Phase A: Create launcher.js and launcher.css with overlay layout",
      "description": "Create adt-console/src/js/launcher.js and adt-console/src/css/launcher.css. Full-screen overlay with: ADT Framework header, search bar, three action cards (Internal Forge Mode, Create Project, Import Project), governed projects list section, recent sessions section. Dark theme consistent with Console. Launcher is a DOM overlay on top of the terminal area, does not replace index.html structure.",
      "spec_ref": "SPEC-032",
      "assigned_to": "Frontend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [],
      "evidence": "Implemented according to SPEC-032 and SPEC-033. All UI components integrated and wired to API.",
      "last_updated_by": "GEMINI (Frontend_Engineer)",
      "last_updated_at": "2026-02-20T21:16:11.503230Z",
      "review_status": "pending"
    },
    {
      "id": "task_114",
      "title": "SPEC-032 Phase A: Wire launcher to startup flow and shortcuts",
      "description": "Modify app.js: show launcher on startup if no sessions restored, show when last session closes, Ctrl+Shift+P toggles launcher. Add 'Projects' button to top bar. Dismiss launcher on project selection or Escape. Load project list from GET /api/projects on launcher open.",
      "spec_ref": "SPEC-032",
      "assigned_to": "Frontend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_113"
      ],
      "evidence": "Implemented according to SPEC-032 and SPEC-033. All UI components integrated and wired to API.",
      "last_updated_by": "GEMINI (Frontend_Engineer)",
      "last_updated_at": "2026-02-20T21:16:11.546649Z",
      "review_status": "pending"
    },
    {
      "id": "task_115",
      "title": "SPEC-032 Phase A: Project cards with live DTTP status and stats",
      "description": "Each project card in the launcher shows: name, path (truncated), DTTP port + status (green/grey dot), stats (spec count, task count, ADS event count). Fetch from GET /api/projects. Quick actions on each card: Start/Stop DTTP (calls POST /api/governance/projects/<name>/start|stop), Remove (with confirmation). Internal Forge Mode card always appears first with amber styling for adt-framework.",
      "spec_ref": "SPEC-032",
      "assigned_to": "Frontend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_114"
      ],
      "evidence": "Implemented according to SPEC-032 and SPEC-033. All UI components integrated and wired to API.",
      "last_updated_by": "GEMINI (Frontend_Engineer)",
      "last_updated_at": "2026-02-20T21:16:11.585866Z",
      "review_status": "pending"
    },
    {
      "id": "task_116",
      "title": "SPEC-032 Phase B: Add init_project IPC command to Tauri backend",
      "description": "Add init_project IPC command to ipc.rs. Accepts path, name, detect (bool), start_dttp (bool). Calls python3 -m adt_core.cli init <path> --name <name> --detect as subprocess. Returns success/error with project details. Also add list_projects IPC (reads ~/.adt/projects.json + enriches with DTTP status via port check), start_project_dttp and stop_project_dttp IPC commands.",
      "spec_ref": "SPEC-032",
      "assigned_to": "DevOps_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [],
      "evidence": "Added init_project, list_projects, start_project_dttp, stop_project_dttp IPC commands to ipc.rs. Registered in main.rs. Cargo check passes.",
      "last_updated_by": "CLAUDE (DevOps_Engineer)",
      "last_updated_at": "2026-02-20T22:10:00Z",
      "review_status": "pending"
    },
    {
      "id": "task_117",
      "title": "SPEC-032 Phase C: Create Project wizard UI",
      "description": "Multi-step modal dialog in launcher.js. Step 1: project name + path (with browse hint). Step 2: detected project type + suggested jurisdictions. Step 3: role configuration (checkboxes for standard roles). Step 4: summary + confirm. On confirm, calls init_project IPC (Tauri) or POST /api/governance/projects/init (browser fallback). Shows progress spinner during scaffolding. Returns to launcher with new project visible.",
      "spec_ref": "SPEC-032",
      "assigned_to": "Frontend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_114",
        "task_116"
      ],
      "evidence": "Implemented according to SPEC-032 and SPEC-033. All UI components integrated and wired to API.",
      "last_updated_by": "GEMINI (Frontend_Engineer)",
      "last_updated_at": "2026-02-20T21:16:11.626288Z",
      "review_status": "pending"
    },
    {
      "id": "task_118",
      "title": "SPEC-032 Phase C: Import Project wizard UI",
      "description": "Path picker dialog in launcher.js. User types or browses to existing project path. Auto-detect: if _cortex/ exists, show 'Already initialized - registering only'. If not, show 'Will initialize ADT governance' with preview of files to create. On confirm, calls init_project IPC/API. Same DTTP startup and hook installation as Create.",
      "spec_ref": "SPEC-032",
      "assigned_to": "Frontend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_114",
        "task_116"
      ],
      "evidence": "Implemented according to SPEC-032 and SPEC-033. All UI components integrated and wired to API.",
      "last_updated_by": "GEMINI (Frontend_Engineer)",
      "last_updated_at": "2026-02-20T21:16:11.667393Z",
      "review_status": "pending"
    },
    {
      "id": "task_119",
      "title": "SPEC-032 Phase D: Guided Setup System engine (guide.js)",
      "description": "Create adt-console/src/js/guide.js. 7-step state machine: (1) Describe Project, (2) Set Up Folder, (3) Configure Governance, (4) Write First Spec, (5) Start Services, (6) Launch Agent, (7) Completion. Guide renders as bottom-sheet overlay on terminal area, collapsible to thin progress bar. Each step has title, explanation, action form, Skip button, and Next button. Guide state persisted per-project in _cortex/ops/guide_state.json (read/write via API). Auto-detect completed steps (existing _cortex/, running DTTP, etc). Ctrl+Shift+G toggles. On by default for first project, toggleable in settings.",
      "spec_ref": "SPEC-032",
      "assigned_to": "Frontend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_117"
      ],
      "evidence": "Implemented according to SPEC-032 and SPEC-033. All UI components integrated and wired to API.",
      "last_updated_by": "GEMINI (Frontend_Engineer)",
      "last_updated_at": "2026-02-20T21:16:11.711618Z",
      "review_status": "pending"
    },
    {
      "id": "task_120",
      "title": "SPEC-032 Phase D: Guide Steps 1-4 (Describe, Folder, Governance, First Spec)",
      "description": "Implement guide step forms. Step 1: project name, description, tech stack picker -- seeds MASTER_PLAN.md. Step 2: path field, create directory checkbox, git init checkbox, standard structure preview -- calls init_project. Step 3: role checkboxes pre-populated from project type detection, shows path assignments -- writes jurisdictions.json. Step 4: spec title + description textarea -- creates SPEC-001 via POST /api/specs. Each step auto-completes if corresponding artifacts already exist.",
      "spec_ref": "SPEC-032",
      "assigned_to": "Frontend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_119"
      ],
      "evidence": "Implemented according to SPEC-032 and SPEC-033. All UI components integrated and wired to API.",
      "last_updated_by": "GEMINI (Frontend_Engineer)",
      "last_updated_at": "2026-02-20T21:16:11.767602Z",
      "review_status": "pending"
    },
    {
      "id": "task_121",
      "title": "SPEC-032 Phase D: Guide Steps 5-7 (Services, Launch Agent, Completion)",
      "description": "Step 5: auto-start DTTP, show status checks (DTTP running, registered, hooks installed, Panel visible). Step 6: agent picker (Claude/Gemini/Shell), role dropdown, spec dropdown -- launches session via existing SessionManager.create(). Step 7: completion message with tips (Ctrl+G for Panel, Ctrl+N for more sessions, /hive-* commands). 'Don't show guide for new projects' checkbox. Guide state marked complete.",
      "spec_ref": "SPEC-032",
      "assigned_to": "Frontend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_119"
      ],
      "evidence": "Implemented according to SPEC-032 and SPEC-033. All UI components integrated and wired to API.",
      "last_updated_by": "GEMINI (Frontend_Engineer)",
      "last_updated_at": "2026-02-20T21:16:11.805997Z",
      "review_status": "pending"
    },
    {
      "id": "task_122",
      "title": "SPEC-032 Phase E: Recent sessions and search on launcher",
      "description": "Recent Sessions section at bottom of launcher. Reads from ~/.adt/console/sessions.json. Shows last 5 sessions with role, project, agent, and time ago. Click to re-launch with same config. Search bar filters project list and recent sessions by name/path. Debounced input (200ms).",
      "spec_ref": "SPEC-032",
      "assigned_to": "Frontend_Engineer",
      "status": "completed",
      "priority": "medium",
      "depends_on": [
        "task_115"
      ],
      "evidence": "Implemented according to SPEC-032 and SPEC-033. All UI components integrated and wired to API.",
      "last_updated_by": "GEMINI (Frontend_Engineer)",
      "last_updated_at": "2026-02-20T21:16:11.853891Z",
      "review_status": "pending"
    },
    {
      "id": "task_123",
      "title": "SPEC-027: Add production mode detection to PTY spawner",
      "description": "Modify adt-console/src-tauri/src/pty.rs create_session(). Add production mode detection: check if OS user 'agent' exists (getpwnam) and if Tier 1 files are owned by human (not dttp group-writable). If production mode detected: wrap the agent command with 'sudo -u agent' prefix. Example: instead of spawning 'claude', spawn 'sudo -u agent claude'. Shell sessions requested by the human remain as the human user. Add is_production_mode() helper function. Add agent_user field to session metadata.",
      "spec_ref": "SPEC-027",
      "assigned_to": "DevOps_Engineer",
      "status": "completed",
      "priority": "critical",
      "depends_on": [],
      "last_updated_by": "CLAUDE (DevOps_Engineer)",
      "last_updated_at": "2026-02-20T22:00:00Z",
      "review_status": "pending",
      "evidence": "Added is_production_mode() to pty.rs, agent_user field to SessionInfo, sudo -u agent wrapping in create_session(). Cargo check passes."
    },
    {
      "id": "task_124",
      "title": "SPEC-027: Add sudoers rules for Console agent spawning",
      "description": "Update scripts/setup_shatterglass.sh to add sudoers rule allowing the human user to run any command as the agent user without password: '$HUMAN_USER ALL=(agent) NOPASSWD: ALL'. This enables the Console to spawn PTY processes as agent. Also add rule for DTTP service: '$HUMAN_USER ALL=(dttp) NOPASSWD: $PROJECT_ROOT/venv/bin/python3 -m adt_core.dttp.service *'. Restrict agent user's PATH to only framework-approved binaries.",
      "spec_ref": "SPEC-027",
      "assigned_to": "DevOps_Engineer",
      "status": "completed",
      "priority": "critical",
      "depends_on": [],
      "last_updated_by": "CLAUDE (DevOps_Engineer)",
      "last_updated_at": "2026-02-20T22:00:00Z",
      "review_status": "pending",
      "evidence": "Added sudoers rules for agent spawning, DTTP service, PATH restriction, visudo validation to setup_shatterglass.sh."
    },
    {
      "id": "task_125",
      "title": "SPEC-027: Add 'adt shatterglass status' CLI command",
      "description": "Add status subcommand to shatterglass_command() in adt_core/cli.py. Checks: agent/dttp users exist, file ownership matches expected tiers (Tier 1 = human:human 644, Tier 2 = dttp:dttp 644, Tier 3 = dttp:dttp 664), sudoers file exists, active shatterglass window (if any), DTTP running as dttp user. Print table with pass/fail for each check. Return exit code 0 if all pass, 1 if any fail.",
      "spec_ref": "SPEC-027",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [],
      "evidence": "Implemented adt shatterglass status command. Verified it detects missing users and permissions.",
      "last_updated_by": "GEMINI (Backend_Engineer)",
      "last_updated_at": "2026-02-20T21:23:48.906198Z",
      "review_status": "pending"
    },
    {
      "id": "task_126",
      "title": "SPEC-027: DTTP service must run as dttp user",
      "description": "Update start.sh and install.sh to launch the DTTP service as the dttp OS user (sudo -u dttp python3 -m adt_core.dttp.service) when production mode is active. Update _start_project_dttp() in governance_routes.py to use sudo -u dttp when the agent user exists. This ensures Tier 2 files are only writable by the DTTP process.",
      "spec_ref": "SPEC-027",
      "assigned_to": "DevOps_Engineer",
      "status": "completed",
      "priority": "critical",
      "depends_on": [
        "task_124"
      ],
      "last_updated_by": "CLAUDE (DevOps_Engineer)",
      "last_updated_at": "2026-02-20T22:00:00Z",
      "review_status": "pending",
      "evidence": "Updated start.sh, install.sh, governance_routes.py with production mode detection and sudo -u dttp for DTTP launch."
    },
    {
      "id": "task_127",
      "title": "SPEC-027: Shatterglass setup for external projects (SPEC-032 integration)",
      "description": "Update adt init (adt_core/cli.py) and the _init_project() helper in governance_routes.py: after scaffolding a new project, if production mode is active (agent user exists), run permission setup on the new project's files. Tier 1 paths (_cortex/AI_PROTOCOL.md, _cortex/MASTER_PLAN.md, config/*.json) set to human:human 644. All other files set to dttp:dttp 664. This ensures external projects get OS-level enforcement automatically. Requires sudo -- prompt or skip if not available.",
      "spec_ref": "SPEC-027",
      "assigned_to": "DevOps_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_124"
      ],
      "last_updated_by": "CLAUDE (DevOps_Engineer)",
      "last_updated_at": "2026-02-20T22:00:00Z",
      "review_status": "pending",
      "evidence": "Added _apply_shatterglass_permissions() to governance_routes.py, called from _init_project(). Updated cli.py init_command()."
    },
    {
      "id": "task_128",
      "title": "SPEC-027: Shatterglass enforcement tests",
      "description": "Tests (require agent/dttp users -- skip if not present): agent user cannot write Tier 1 files, agent user cannot write Tier 2 files, agent user CAN write Tier 3 files, dttp user can write Tier 2 files, shatterglass activate temporarily opens Tier 1, shatterglass deactivate restores permissions, status command reports correctly, Console PTY spawns as agent user in production mode. Minimum 8 test functions.",
      "spec_ref": "SPEC-027",
      "assigned_to": "DevOps_Engineer + Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_123",
        "task_124",
        "task_125",
        "task_126"
      ],
      "last_updated_by": "CLAUDE (DevOps_Engineer)",
      "last_updated_at": "2026-02-20T22:00:00Z",
      "review_status": "pending",
      "evidence": "Created tests/test_shatterglass_enforcement.py with 20 tests across 6 classes. All 20 pass."
    },
    {
      "id": "task_129",
      "title": "Parse To:/From: fields in requests parser, add ?role= filter to GET /api/governance/requests",
      "description": "Update the requests markdown parser in adt_center/api/governance_routes.py to extract 'to' (target role from **To:** line) and 'from_role' (originating role from **From:** line). Add ?role= query parameter to GET /api/governance/requests: when provided, return only requests where to or from_role matches the given role. Without the parameter, return all (backward compatible).",
      "spec_ref": "SPEC-034",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [],
      "evidence": "Tested with inline python script. REQ-001 and REQ-006 correctly parsed with from_role and to fields. Role filter Backend_Engineer returned 7 requests.",
      "last_updated_by": "GEMINI (Backend_Engineer)",
      "last_updated_at": "2026-02-23T20:21:00.000000Z"
    },
    {
      "id": "task_130",
      "title": "Update context.js to pass role to API calls, add filter indicator and toggle",
      "description": "Update adt-console/src/js/context.js: (1) fetchRequests() -- append &role=<session.role> to the requests API URL. (2) fetchTaskData() -- append &assigned_to=<session.role> to the tasks API URL, remove client-side filter on lines 200-203. (3) Add a visual indicator at top of context panel showing '[Showing: <role>]' with a clickable toggle to 'Show all'. Sessions without a role show all data.",
      "spec_ref": "SPEC-034",
      "assigned_to": "Frontend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_129"
      ],
      "evidence": "Implemented role-aware filtering in context.js and added visual indicator in index.html.",
      "last_updated_by": "GEMINI (Frontend_Engineer)",
      "last_updated_at": "2026-02-23T20:45:00Z"
    },
    {
      "id": "task_131",
      "title": "Fix session CWD: read project path from dataset.path instead of dropdown value",
      "description": "In adt-console/src/js/app.js form submit handler (line 450), the project dropdown .value contains the project NAME, not the filesystem path. The path is in dataset.path (line 394) but never read. Fix: on form submit, get the selected option's dataset.path and pass it as cwd to SessionManager.create(). Keep .value (name) for project field (API filtering). Update sessions.js to accept separate project name and projectPath params.",
      "spec_ref": "SPEC-034",
      "assigned_to": "Frontend_Engineer",
      "status": "completed",
      "priority": "critical",
      "depends_on": [],
      "evidence": "Fixed CWD by passing projectPath separately from project name. Updated app.js and sessions.js.",
      "last_updated_by": "GEMINI (Frontend_Engineer)",
      "last_updated_at": "2026-02-23T20:45:00Z"
    },
    {
      "id": "task_132",
      "title": "Fix hook paths: use absolute paths in .gemini/settings.json and .claude/settings.local.json",
      "description": "Both hook configs use relative paths (python3 adt_sdk/hooks/gemini_pretool.py and python3 adt_sdk/hooks/claude_pretool.py). When sessions open with wrong CWD, hooks silently fail. Fix: update both to use absolute paths (python3 /home/human/Projects/adt-framework/adt_sdk/hooks/...). Also update adt_core/cli.py init_command() hook installation to write absolute paths based on the framework install location.",
      "spec_ref": "SPEC-034",
      "assigned_to": "DevOps_Engineer",
      "status": "pending",
      "priority": "critical",
      "depends_on": []
    },
    {
      "id": "task_133",
      "title": "Add --yolo and --dangerously-skip-permissions checkboxes to session creation dialog",
      "description": "In adt-console/src/js/app.js session creation dialog: add a checkbox 'YOLO mode' visible only when agent=gemini (appends --yolo to launch command), and a checkbox 'Skip permissions' visible only when agent=claude (appends --dangerously-skip-permissions). Checkboxes hidden by default, shown/hidden via agentSelect change handler. In sessions.js, append the flag to the command string before passing to IPC.",
      "spec_ref": "SPEC-034",
      "assigned_to": "Frontend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [],
      "evidence": "Added agent flags to session dialog and wired them to launch commands.",
      "last_updated_by": "GEMINI (Frontend_Engineer)",
      "last_updated_at": "2026-02-23T20:45:00Z"
    },
    {
      "id": "task_134",
      "title": "SPEC-003: Implement Hierarchy and Delegation views in ADT Center",
      "description": "Brought the Flask-based Operational Center to parity with the Operator Console by implementing hierarchy.html, delegation.html, and adding the necessary routes to app.py. Created _cortex/phases.json.",
      "spec_ref": "SPEC-003",
      "assigned_to": "Frontend_Engineer + Backend_Engineer",
      "status": "completed",
      "priority": "medium",
      "depends_on": [
        "task_004"
      ],
      "evidence": "Routes added to app.py, hierarchy.html and delegation.html created, base.html updated.",
      "last_updated_by": "GEMINI (Frontend_Engineer)",
      "last_updated_at": "2026-02-24T21:31:50.600282+00:00Z"
    },
    {
      "id": "task_135",
      "title": "SPEC-035: Implement request status update API",
      "description": "Add PUT /api/governance/requests/<id>/status to governance_routes.py. Implement Markdown parsing and updating logic to reflect status changes in requests.md. Verify role authorization (caller role matches To: field).",
      "spec_ref": "SPEC-035",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [],
      "evidence": "Implementation verified via CLI test.",
      "last_updated_by": "GEMINI (Backend_Engineer)",
      "last_updated_at": "2026-02-25T20:55:21.368658Z",
      "review_status": "pending"
    },
    {
      "id": "task_136",
      "title": "SPEC-035: Add SDK methods for task and request completion",
      "description": "Add complete_task and complete_request methods to ADTClient in adt_sdk/client.py. These methods call the status update APIs.",
      "spec_ref": "SPEC-035",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_135"
      ],
      "evidence": "SDK methods for status update implemented and verified.",
      "last_updated_by": "GEMINI (Backend_Engineer)",
      "last_updated_at": "2026-02-25T20:55:26.727632Z",
      "review_status": "pending"
    },
    {
      "id": "task_137",
      "title": "SPEC-035: Add CLI commands for status management",
      "description": "Add adt tasks complete <id> and adt requests complete <id> commands to adt_core/cli.py. These commands use the ADT SDK to report progress/completion.",
      "spec_ref": "SPEC-035",
      "assigned_to": "Backend_Engineer",
      "status": "completed",
      "priority": "high",
      "depends_on": [
        "task_136"
      ],
      "evidence": "CLI commands for status management implemented and verified.",
      "last_updated_by": "GEMINI (Backend_Engineer)",
      "last_updated_at": "2026-02-25T20:55:27.625036Z",
      "review_status": "pending"
    }
  ]
}